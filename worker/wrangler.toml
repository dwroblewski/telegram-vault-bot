# Rename to match your Cloudflare Worker name
name = "telegram-vault-bot"
main = "src/index.js"
compatibility_date = "2026-01-14"
# account_id set via CLOUDFLARE_ACCOUNT_ID env var

# R2 bucket binding - create bucket first, then update name here
[[r2_buckets]]
binding = "VAULT"
bucket_name = "telegram-brain-vault"

# Environment variables (secrets set via wrangler secret)
# TELEGRAM_BOT_TOKEN - set via: wrangler secret put TELEGRAM_BOT_TOKEN
# GEMINI_API_KEY - set via: wrangler secret put GEMINI_API_KEY
# ALLOWED_USER_ID - your Telegram user ID for auth
# WEBHOOK_SECRET - Telegram webhook validation (set via: wrangler secret put WEBHOOK_SECRET)
# GITHUB_TOKEN - for auto-sync to git (set via: wrangler secret put GITHUB_TOKEN)
# GITHUB_REPO - your vault repo (set via: wrangler secret put GITHUB_REPO) e.g. "username/vault-repo"

[vars]
# IMPORTANT: Keep models current! Check https://ai.google.dev/gemini-api/docs/models
# Current models (Jan 2026):
#   - gemini-3-flash-preview (latest preview)
#   - gemini-2.5-flash (stable, recommended)
#   - gemini-2.5-pro (best quality)
# DEPRECATED (retire Mar 2026): gemini-2.0-flash, gemini-2.0-flash-lite
MODEL = "gemini-2.5-flash"
